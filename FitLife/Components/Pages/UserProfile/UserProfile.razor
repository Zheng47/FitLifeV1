@layout Layout.DashboardLayout

@page "/user-profile"
@rendermode InteractiveServer

<div class="info-container">
    <div class="header-info">
        <h1>Hello, @userName    </h1>
        <a>Personal Information</a>
    </div>
    <div class="body-info">
        <div>
            <a>First Name:</a>
            <p>@currentUser.FirstName</p>
            <a>Gender:</a>
            <p>@currentUser.Sex</p>
        </div>
        <div>
            <a>Last Name:</a>
            <p>@currentUser.LastName</p>
            <a>Date of Birth:</a>
            <p>@currentUser.DateOfBirth</p>
        </div>
        <div>
            <a>Middle Name:</a>
            @if (currentUser.MiddleName is null)
            {
                <p>N/A</p>
            }
            else
            {
                <p>@currentUser.MiddleName</p>
            }
        </div>
    </div>
</div>

<div class="otherInfo-container">
    <div class="content-layout">
        <p>Email Address</p>
        <div>
            <div id="currentEmail" />
            <p>@currentUser.Email</p>
        </div>
        <button @onclick="editEmail">Edit Email Address</button>
    </div>
</div>

<div class="overlay @emailOverlay">
    <EditForm Model="emailModel" OnValidSubmit="OnValidEmailSubmit">
        <div class="edit-detail">
            <div class="edit-header">
                <p>New Email Address</p>
                <button type="button" @onclick="closeEditEmail" class="closeBtn">X</button>
            </div>
            <InputText @bind-value="emailModel.NewEmail" type="email" placeholder="Enter your new email address" />
            <button type="submit">Confirm</button>
        </div>
    </EditForm>
</div>
